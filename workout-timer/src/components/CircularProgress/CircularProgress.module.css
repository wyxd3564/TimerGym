.container {
  display: inline-block;
  position: relative;
  width: min(100%, var(--timer-size));
  height: min(100%, var(--timer-size));
  max-width: 100%;
  max-height: 100%;
  aspect-ratio: 1 / 1;
}

.svg { display: block; width: 100%; height: 100%; }

.backgroundCircle {
  opacity: 0.2;
}

.progressCircle {
  transition: stroke-dashoffset var(--transition-normal), stroke var(--transition-fast);
  animation: none;
}

/* 완료 시 펄스 애니메이션 */
.progressCircle.completed { animation: none; }

@keyframes pulse {
  0% {
    opacity: 1;
    transform: rotate(-90deg) scale(1);
  }
  50% {
    opacity: 0.7;
    transform: rotate(-90deg) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: rotate(-90deg) scale(1);
  }
}

/* 마지막 10초 동안의 색상 변화 애니메이션 */
.progressCircle.warning { animation: none; }

.progressCircle.danger { animation: none; }

@keyframes colorPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes dangerPulse {
  0%, 100% {
    opacity: 1;
    stroke-width: var(--timer-stroke-width);
  }
  50% {
    opacity: 0.9;
    stroke-width: calc(var(--timer-stroke-width) + 1px);
  }
}

/* 반응형 디자인 - 모바일에서 화면에 꽉 차도록 */
@media (max-width: 768px) {
  .container {
    width: min(85vw, 85vh);
    height: min(85vw, 85vh);
    max-width: 400px;
    max-height: 400px;
  }
  
  .progressCircle {
    transition: stroke-dashoffset var(--transition-fast), stroke var(--transition-fast);
  }
}

@media (max-width: 640px) {
  .container {
    width: min(90vw, 80vh);
    height: min(90vw, 80vh);
    max-width: 350px;
    max-height: 350px;
  }
}

@media (max-width: 480px) {
  .container {
    width: min(92vw, 75vh);
    height: min(92vw, 75vh);
    max-width: 320px;
    max-height: 320px;
  }
}

@media (max-width: 360px) {
  .container {
    width: min(95vw, 70vh);
    height: min(95vw, 70vh);
    max-width: 280px;
    max-height: 280px;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 600px) {
  .container {
    width: min(60vw, 70vh);
    height: min(60vw, 70vh);
    max-width: 250px;
    max-height: 250px;
  }
}

/* Very small screens in landscape */
@media (orientation: landscape) and (max-height: 500px) {
  .container {
    width: min(50vw, 65vh);
    height: min(50vw, 65vh);
    max-width: 200px;
    max-height: 200px;
  }
}

/* Large screens */
@media (min-width: 1024px) {
  .container {
    width: min(400px, 50vw);
    height: min(400px, 50vw);
    max-width: 450px;
    max-height: 450px;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .backgroundCircle,
  .progressCircle {
    stroke-width: 6;
  }
}

/* 접근성: 애니메이션 감소 설정 */
@media (prefers-reduced-motion: reduce) {
  .progressCircle,
  .progressCircle.completed,
  .progressCircle.warning,
  .progressCircle.danger {
    animation: none;
    transition: none;
  }
}